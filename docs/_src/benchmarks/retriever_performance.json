{
  "chart_type": "BarChart",
  "title": "Retriever Performance",
  "subtitle": "Time and Accuracy Benchmarks",
  "description": "Here is a comparison of the speed and accuracy of different DocumentStore/ Retriever combinations. Indexing speed refers to how quickly Documents can be inserted into a DocumentStore. Querying speed refers to the speed at which the system returns relevant Documents when presented with a query.\n\nThe dataset used for **indexing** is Wikipedia, split into 100 word passages (downloaded from here [https://github.com/facebookresearch/DPR/blob/master/data/download_data.py](https://github.com/facebookresearch/DPR/blob/master/data/download_data.py)). We measure the time it takes for each system to index 100k documents. The DPR embedding model that we use is \"facebook/dpr-ctx_encoder-single-nq-base\". \n\nFor **querying**, we use the Natural Questions development set. The Document Store is populated with the 100 word passages in which the  answer spans occur (i.e. gold passages) as well as a random selection of 100 word passages in which the answer spans do not occur (i.e. negative passages). We take a total of 100k gold and negative passages. Query and document embedding are generated by the \"facebook/dpr-question_encoder-single-nq-base\" and \"facebook/dpr-ctx_encoder-single-nq-base\" models. The retriever returns 10 candidates and both the recall and MAP scores are calculated on these 10.\n\nBoth index and query benchmarks are performed on an AWS P3.2xlarge instance which is accelerated by an Nvidia V100 GPU.",
  "bars": "horizontal",
  "columns": [
    "Model",
    "Recall",
    "Index Speed",
    "Query Speed"
  ],
  "series": {
    "s0": "recall",
    "s1": "time",
    "s2": "time"
  },
  "axes": {
    "label": "recall",
    "time_side": "top",
    "time_label": "seconds"
  },
  "data": [
    {
      "model": "DPR / ElasticSearch",
      "n_docs": 100000,
      "index_speed": 79.54165185,
      "query_speed": 6.5360000000000005,
      "map": 0.863
    },
    {
      "model": "BM25 / ElasticSearch",
      "n_docs": 100000,
      "index_speed": 476.9143596,
      "query_speed": 162.996,
      "map": 0.56
    },
    {
      "model": "DPR / FAISS (flat)",
      "n_docs": 100000,
      "index_speed": 107.8662479,
      "query_speed": 5.044,
      "map": 0.863
    },
    {
      "model": "DPR / FAISS (HSNW)",
      "n_docs": 100000,
      "index_speed": 92.24548333,
      "query_speed": 12.815,
      "map": 0.8490000000000001
    }
  ]
}